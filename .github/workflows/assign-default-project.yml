name: Assign default project to issues

on:
  issues:
    types:
    - opened

jobs:
  assign_default_project:
    name: Assign default project to issue
    runs-on: ubuntu-latest

    steps:
    - name: Assign vulnerability scans or Sentry issues to Enable
      if: contains(github.event.issue.labels.*.name, 'tool:trivy') || contains(github.event.issue.labels.*.name, 'tool:sentry')
      uses: peter-evans/create-or-update-project-card@3d5056faa1b952f322b49b5d5f37adefd702e3e1

      with:
        token: ${{ secrets.RASABOT_ASSIGN_ISSUES_BOARD_TOKEN }}
        # https://github.com/orgs/RasaHQ/projects/40
        project-location: RasaHQ
        project-number: 40
        column-name: Inbox
