---
id: realtime-markers
sidebar_label: Real-time Markers
title: Real-time Analysis of Markers
description:
abstract: Process Markers in real-time from Rasa
    Assistant to track solution rate and abandonment
---

import useBaseUrl from "@docusaurus/useBaseUrl";
import RasaProLabel from "@theme/RasaProLabel";
import RasaProBanner from "@theme/RasaProBanner";
import { Grid } from "@theme/Grid";

<RasaProLabel />

<RasaProBanner />

In Rasa, [Markers](../../markers.mdx) are a powerful feature that allows
you to track and extract custom conversational events. With the Analytics
Data Pipeline, you can now process these Markers in real-time, enabling
you to gain valuable insights and enhance the performance of your Rasa
Assistant. In this guide, we'll explore how to leverage real-time
analysis of Markers to track solution rate and abandonment in your conversations.

## Defining Markers

Please consult the [Markers](../../markers.mdx/#defining-markers) section of Rasa documentation
for details about defining Markers.

## Enable Real-time Processing

To enable real-time analysis of Markers in your Rasa project, you need to
upload the markers to Analytics Data Pipeline with the `rasa marker upload`
command. This command sends the marker configuration YAML and starts the
processing of Markers in the Analytics Data Pipeline. To get started,
make sure you have the latest version of Rasa installed. Then, open your command line
interface and navigate to your Rasa project directory. Run the following command:

```
rasa marker upload --config=<path-to-config-file> -d=<path-to-domain-file> -rasa-pro-services-url=<url>
```

By default, this command validates the marker configuration file against
your bot's domain.yml file. To specify a different domain file, use the
optional `-d` argument.

This command should be run whenever there is a change in the marker
configuration file. The changes might include addition of new markers,
changing an existing marker or removing an existing marker. This command
will upload the configuration file to the Analytics Data Pipeline

:::note

This command **uploads** the marker configurations to the data pipeline. The pipeline assusmes the configuration
file as the source of truth and only processes the markers defined in it. If you remove a marker from this file,
and run this command, then the processing for that marker is stopped.

:::

### Configuring the CLI command

Visit our [CLI page](./command-line-interface.mdx#rasa-marker-upload)
for more information about the command line arguments available.

## How are Markers processed?

Once the marker definitions are uploaded to the Analytics Data Pipeline, they
are stored in the `rasa_patterns` table. As the Kafka Consumer starts receiving events
from the Rasa Assistant, it starts analyzing them for markers. The Pipeline 
processes all the events from the Kafka Event Broker and identifies points of interest
in the conversation where the marker can be applied. The extracted markers are stored
in the data warehouse.

The evaluation of Markers in the Pipeline is similar to the `rasa evaluate markers`
command which can be used to process markers from the conversations in Tracker Store.
Read more about it [here](../../markers.mdx/#extracting-markers)

Extracted markers are added to the `rasa_markers` table in the data warehouse
immediately once they are processed. There might also be instances where
a marker is applied several times in a conversation. Check out the
[Data Structure Reference](data-structure-reference.mdx/#rasa-markers) page for the
database schema of relevant tables.
